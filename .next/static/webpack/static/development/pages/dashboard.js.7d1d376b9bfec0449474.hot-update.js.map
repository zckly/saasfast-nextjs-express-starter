{"version":3,"file":"static/webpack/static/development/pages/dashboard.js.7d1d376b9bfec0449474.hot-update.js","sources":["webpack:///./static/secure-template.js"],"sourcesContent":["import React from 'react';\nimport Head from 'next/head';\nimport Header from '../components/Header';\nimport Link from 'next/link';\nimport { getTokenForBrowser, getTokenForServer } from '../static/auth';\nimport '../stylesheets/empty.css';\nimport '../stylesheets/index.css';\nimport '../stylesheets/index-mobile.css';\nimport 'sweetalert2/src/sweetalert2.scss'\nimport 'semantic-ui-css/semantic.min.css'\n\nexport default Page => class Template extends React.Component {\n  \n  static async getInitialProps({ req }) {\n    const loggedInUser = process.browser ? await getTokenForBrowser() : await getTokenForServer(req);\n    const origin = req && req.headers && req.headers.host ? req.protocol + '://'+req.headers.host : window.location.origin\n    const pageProperties = await Page.getInitialProps && await Page.getInitialProps(req);\n    return {\n      ...pageProperties,\n      loggedInUser,\n      origin,\n      isLoggedIn: !!loggedInUser\n    }\n  }\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...props\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleWindowSizeChange);\n  }\n  componentDidMount() {\n    this.setState({\n      width: window.innerWidth,\n      isMobile: window.innerWidth <= 500\n    })\n  }\n\n  // make sure to remove the listener\n  // when the component is not mounted anymore\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowSizeChange);\n  }\n\n  handleWindowSizeChange = () => {\n    this.setState({ width: window.innerWidth });\n  };\n  render() {\n    if (!this.props.isLoggedIn) {\n      return (\n        <div id='app'>\n          <Head>\n             <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" charSet=\"utf-8\"/>\n             <link href=\"https://fonts.googleapis.com/css?family=Space+Mono:700\" rel=\"stylesheet\"/>\n             <link href=\"https://fonts.googleapis.com/css?family=Work+Sans:100,200,300\" rel=\"stylesheet\"/>\n          </Head>\n          <Header { ...this.state } />\n          <div className='not-authorized-page'>\n          <h2>This page is only available to logged in users! Please <Link href='/login'><a>login</a></Link></h2>\n          </div>\n        </div>\n      )\n    }\n    return (\n      <div id='app'>\n        <Head>\n           <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>\n           <link href=\"https://fonts.googleapis.com/css?family=Space+Mono:700\" rel=\"stylesheet\"/>\n           <link href=\"https://fonts.googleapis.com/css?family=Work+Sans:100,200,300\" rel=\"stylesheet\"/>\n        </Head>\n        <Header { ...this.state } />\n        <main id='page-wrap'>\n          <Page className='page-wrap' { ...this.state } />\n        </main>\n      </div>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAHA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAKA;AALA;AAQA;AACA;AACA;AAVA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAYA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAwBA;AAAA;AAAA;AACA;AACA;AAxBA;AAFA;AAKA;AACA;AAnBA;AAAA;AAAA;AAqBA;AACA;AAtBA;AAAA;AAAA;AAwBA;AACA;AACA;AAFA;AAIA;AAGA;AACA;AAhCA;AAAA;AAAA;AAiCA;AACA;AAlCA;AAAA;AAAA;AAwCA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAIA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAIA;AApEA;AACA;AADA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}